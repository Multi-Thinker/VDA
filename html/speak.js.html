<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: speak.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: speak.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @file speak.js
* @name Alexa Responses
* @requires alexa-response
* @author Talha Habib
* @param {Object} Extract - Alexa Request body from alexa_handle.js
* @param {Object} Res - HTTP Resource object from alexa_handle.js
* @param {Object} Alexa - Alixa library from alexa_handle.js
* @memberof alexa_handle.js
* @module
* @desc External Alexa Speak JSON generator
*/


var fn = (extract, ress, Alexa) => {

    var r = extract.request;
    var i = extract.intent;
    var attrs = extract.attr;
    if (extract.intentName == "search_param") {
        var val = extract.value != null ? extract.value : ". .";
        if (val.split(" ").length &lt;= 0) {
            var response = Alexa.Response
                .say("Please add more to your search, your searched should be more than 1 word")
                .shouldEndSession(false)
                .build();
            console.log(`inside ${r.type}`);
            ress.end(JSON.stringify(response));
            return false;
        }
    }
    if (r.type == "LaunchRequest") {
        var response = Alexa.Response
            .say(`Welcome to Corporate News wire, 
                                 You can search for press release like this for example: alexa, search for Computers`)
            .shouldEndSession(false)
            .build();
        console.log(`inside ${r.type}`);
        ress.end(JSON.stringify(response));
        return false;
    } else if (i.name == "AMAZON.StopIntent") {
        var response = Alexa.Response
            .say("Okay, You can start a new search by asking me like this... alexa, ask corporate newswire about corporation press releases")
            .shouldEndSession(true).attributes(attrs)
            .build();
        console.log(`inside ${i.name}`, i);
        ress.end(JSON.stringify(response));
        return false;
    } else if (i.name == "AMAZON.CancelIntent" || r.type == "SessionEndedRequest") {
        var response = Alexa.Response
            .say("Okay, You can ask me again to show you news feed like this... alexa, ask corporate newswire about corporation press releases")
            .shouldEndSession(true).attributes(attrs)
            .build();
        console.log(`inside ${r.type!=null ? r.type : i.name}`, i);
        ress.end(JSON.stringify(response));
        return false;
    }
    if (r.reason == "ERROR") {
        var response = Alexa.Response
            .say("Hmmm.. There seems to be some error, can you check?")
            .shouldEndSession(false).attributes(attrs)
            .build();
        console.log(`inside ${r.reason}`);
        ress.end(JSON.stringify(response));
        return false;
    }
}



module.exports = fn;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Alexa%2520Database.html">Alexa Database</a></li><li><a href="module-Alexa%2520handler.html">Alexa handler</a></li><li><a href="module-Alexa%2520Responses.html">Alexa Responses</a></li><li><a href="module-google%2520handler%2520file.html">google handler file</a></li><li><a href="module-Interval-scheduled%2520Cron%2520for%2520Feed.html">Interval-scheduled Cron for Feed</a></li><li><a href="module-main%2520starting%2520script%2520of%2520VDA%2520project.html">main starting script of VDA project</a></li></ul><h3>Externals</h3><ul><li><a href="sendmail.external_js.html">sendmail.js</a></li></ul><h3>Global</h3><ul><li><a href="global.html#emailsender">email sender</a></li><li><a href="module-Alexa%2520handler.html">extracter</a></li><li><a href="global.html#ssl.js">ssl.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Oct 22 2018 18:15:43 GMT+0500 (Pakistan Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
