<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: extracter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: extracter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @file extracter.js
* @name extracter.js
* @author Talha Habib
* @module
* @function extracter
* @param {Object} responsed - Amazon request index of HTTP JSON body request
* @returns {Object} formatted object for amazon handling
* variable parser for amazon body request to use inside VDA functionality. it returns session slots, intents, intents type and timestamp
*/

var extracter = function(responsed) {
    var r = responsed.request != null ? responsed.request : [];
    var time = r.timestamp;
    var t = typeof r.length != "number" ?
        r.type != null ? r.type : [] :
        [];
    var i = typeof t == "string" ?
        r.intent != null ? r.intent : [] :
        [];
    var s = typeof i.length != "number" ? i.slots != null ? i.slots : [] : [];
    var slotVal = typeof s.length != "number" ? s.control != null ?
        s.control.value :
        s.search_param != null ?
        s.search_param.value :
        s.navigationslot != null ?
        s.navigationslot.value :
        s.transferval!=null ? s.transferval.value : [] :
        [];
    var iN = typeof s.length != "number" ? s.control != null ?
        s.control.name :
        s.search_param != null ?
        s.search_param.name :
        s.navigationslot != null ?
        s.navigationslot.name :
        s.transferval!=null ? s.transferval.name : [] :
        [];
    var session = responsed.session != null ?
        responsed.session :
        [];
    var attrs = [];
    if (typeof session == "object") {
        if (session.attributes != null) {
            attrs = Object.keys(session.attributes).length > 0 ?
                session.attributes :
                [];
        }
    }
    var extract = {
        "request": r,
        "type": t,
        "intent": i,
        "intentName": iN,
        "slots": s,
        "value": slotVal,
        "attr": attrs,
        "timestamp":time
    };
    return extract;
}

module.exports = extracter;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Alexa%2520Database.html">Alexa Database</a></li><li><a href="module-Alexa%2520handler.html">Alexa handler</a></li><li><a href="module-Alexa%2520Responses.html">Alexa Responses</a></li><li><a href="module-google%2520handler%2520file.html">google handler file</a></li><li><a href="module-Interval-scheduled%2520Cron%2520for%2520Feed.html">Interval-scheduled Cron for Feed</a></li><li><a href="module-main%2520starting%2520script%2520of%2520VDA%2520project.html">main starting script of VDA project</a></li></ul><h3>Externals</h3><ul><li><a href="sendmail.external_js.html">sendmail.js</a></li></ul><h3>Global</h3><ul><li><a href="global.html#emailsender">email sender</a></li><li><a href="module-Alexa%2520handler.html">extracter</a></li><li><a href="global.html#ssl.js">ssl.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Oct 22 2018 18:15:43 GMT+0500 (Pakistan Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
